# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∑–∞–ø—É—Å–∫—É Chirper (Spring Boot 4.0.2)

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ "Chirper" - –ø–∞—Ä–æ–¥–∏–∏ –Ω–∞ Twitter –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ 2-3 –∫—É—Ä—Å–∞ –∫–æ–ª–ª–µ–¥–∂–∞.

üìã –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
* Java 21
* Spring Boot 4.0.2
* Maven 3.9+
* H2 Database (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
* PostgreSQL (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
* Flyway (–º–∏–≥—Ä–∞—Ü–∏–∏)
* Spring Security + JWT
* Swagger/OpenAPI 3
* Node.js (–¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)

üõ†Ô∏è –ß–∞—Å—Ç—å 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
1.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Java 21
Windows:
–°–∫–∞—á–∞–π—Ç–µ JDK 21 —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ Oracle

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ .msi

–î–æ–±–∞–≤—å—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã:

```cmd
SET JAVA_HOME=C:\Program Files\Java\jdk-21
SET PATH=%JAVA_HOME%\bin;%PATH%
```
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:
```cmd
java --version
```
macOS:
```bash

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Homebrew
brew install openjdk@21
```


# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ PATH
```bash

echo 'export PATH="/opt/homebrew/opt/openjdk@21/bin:$PATH"' >> ~/.zshrc
source ~/.zshrc
```


# –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
java --version
```



Linux (Ubuntu/Debian):
```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
sudo apt update
sudo apt install openjdk-21-jdk
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞
```
java --version
```

## 1.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Maven

Windows:
* –°–∫–∞—á–∞–π—Ç–µ Maven
* –†–∞—Å–ø–∞–∫—É–π—Ç–µ –≤ C:\Program Files\apache-maven-3.9.6
* –î–æ–±–∞–≤—å—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã:

```cmd
SET MAVEN_HOME=C:\Program Files\apache-maven-3.9.6
SET PATH=%MAVEN_HOME%\bin;%PATH%
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

```cmd
mvn --version
```
macOS/Linux:
```bash
# macOS (Homebrew)
brew install maven
```

## Linux
```bash
sudo apt install maven
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
mvn --version
```

# üíª –ß–∞—Å—Ç—å 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ IntelliJ IDEA Community Edition

2.1 –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞
* –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ jetbrains.com/idea/download
* –í—ã–±–µ—Ä–∏—Ç–µ Community Edition –¥–ª—è –≤–∞—à–µ–π –û–°
* –°–∫–∞—á–∞–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
* –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞

2.2 –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:

* –í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É (Dark/Light)
* –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫
* –ü—Ä–∏–º–∏—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ JDK:

```text
File ‚Üí Project Structure ‚Üí SDKs ‚Üí + ‚Üí Add JDK
```

–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π Java 21

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–ª–µ–∑–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã:

```text
File ‚Üí Settings ‚Üí Plugins
```

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ:

* Spring Boot Assistant=
* Lombok
* Git Integration

# üìÅ –ß–∞—Å—Ç—å 3: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ Chirper

## 3.1 –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –Ω—É–∂–Ω–æ–π –ø–∞–ø–∫–µ
git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd chirper-service
```

## 3.2 –ò–º–ø–æ—Ä—Ç –≤ IntelliJ IDEA

–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:

```text
File ‚Üí Open ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
```

–î–æ–∂–¥–∏—Ç–µ—Å—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç)

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Maven –∑–∞–≥—Ä—É–∑–∏–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
* –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª pom.xml
* –í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –Ω–∞–∂–º–∏—Ç–µ "Load Maven Project"

## 3.3 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞

–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Maven
```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ IntelliJ IDEA
mvn clean spring-boot:run
```


## –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Spring Boot

–ù–∞–∂–º–∏—Ç–µ Add Configuration (–≤–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å)
```
+ ‚Üí Spring Boot
```


–£–∫–∞–∂–∏—Ç–µ:

* Main class: ru.college.chirper.ChirperApplication
* Working directory: –ø–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
* –ù–∞–∂–º–∏—Ç–µ Apply ‚Üí OK
* –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–µ–ª—ë–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π ‚ñ∂Ô∏è

# ‚öôÔ∏è –ß–∞—Å—Ç—å 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
## 4.1 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç H2 Database –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞: –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ application.yml
* –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Å–æ–ª–∏ H2:
* –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ ‚Üí –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ: http://localhost:8080/h2-console

–î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```text
JDBC URL: jdbc:h2:mem:chirpdb
User Name: sa
Password: (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
```

4.2 JWT –∫–ª—é—á
–î–æ–±–∞–≤—å—Ç–µ –≤ application.yml:

```yaml
app:
  jwt:
    secret: "chirper-super-secure-jwt-key-for-student-project-2024-spring-boot-4"
    expiration: 86400000
```

## 4.3 –ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: http://localhost:8080
–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ application.yml:

```yaml
server:
  port: 9090  # –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π
```


# üåê –ß–∞—Å—Ç—å 5: –î–æ—Å—Ç—É–ø –∫ API
## 5.1 Swagger UI (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API)

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

–û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:8080/swagger-ui.html

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

5.2 –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã


| –ú–µ—Ç–æ–¥ | 	URL | 	–û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-------|------------|
|POST	| /api/v1/auth/register |	–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
|POST	| /api/v1/auth/login	| –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
|GET	| /api/v1/auth/me	| –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
|POST	| /api/v1/chirps	| –°–æ–∑–¥–∞—Ç—å —á–∏—Ä–∏–ø
|GET	| /api/v1/chirps/feed	| –õ–µ–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
|POST	| /api/v1/users/{id}/follow |	–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è

5.3 –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è:

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:

* student1 / password123
* student2 / password123
* teacher / password123

–ß–∏—Ä–∏–ø—ã: –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

–ü–æ–¥–ø–∏—Å–∫–∏: –≤–∑–∞–∏–º–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

# üîß –ß–∞—Å—Ç—å 6: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
## 6.1 –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

| –û—à–∏–±–∫–∞	                        | –†–µ—à–µ–Ω–∏–µ| 
|--------------------------------|--------|
| Port 8080 already in use       |	–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ application.yml
| JWT WeakKeyException	          | –£–≤–µ–ª–∏—á—å—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–æ 64+ —Å–∏–º–≤–æ–ª–æ–≤
| H2 console not accessible      |	–ü—Ä–æ–≤–µ—Ä—å—Ç–µ spring.h2.console.enabled: true
|  Maven dependencies not found	 |–í—ã–ø–æ–ª–Ω–∏—Ç–µ mvn clean install

## 6.2 –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Java
java --version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Maven
mvn --version

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ Maven
mvn clean

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
mvn clean install

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
mvn test
```


## 6.3 –õ–æ–≥–∏

–õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è:
* –í –∫–æ–Ω—Å–æ–ª–∏ IntelliJ IDEA
* –í —Ñ–∞–π–ª–µ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ): logs/chirper.log

–£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ application.yml:

```yaml
logging:
  level:
    ru.college.chirper: DEBUG
    org.springframework.security: INFO
```

# üöÄ –ß–∞—Å—Ç—å 7: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
## 7.1 –°–º–µ–Ω–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ PostgreSQL

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL

–ò–∑–º–µ–Ω–∏—Ç–µ application-prod.yml:

```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/chirper
    username: postgres
    password: –≤–∞—à_–ø–∞—Ä–æ–ª—å
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º prod:

```bash
mvn spring-boot:run -Dspring-boot.run.profiles=prod
```

## 7.2 –°–±–æ—Ä–∫–∞ JAR —Ñ–∞–π–ª–∞
bash
mvn clean package
–°–æ–±—Ä–∞–Ω–Ω—ã–π JAR –±—É–¥–µ—Ç –≤: target/chirper-service-1.0.0.jar

## 7.3 –ó–∞–ø—É—Å–∫ JAR

```bash
java -jar target/chirper-service-1.0.0.jar
```

üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
–î–ª—è –æ–±—É—á–µ–Ω–∏—è:
* Spring Boot Documentation
* Java 21 Documentation
* Maven Guide
* IntelliJ IDEA Tutorial

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
* Postman - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
* DBeaver - —Ä–∞–±–æ—Ç–∞ —Å –ë–î
* Git - —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π

üéì –î–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

–ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã:
* –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ Java 21
* –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Maven
* –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ IntelliJ IDEA
* –ü—Ä–æ–µ–∫—Ç –æ—Ç–∫—Ä—ã—Ç –≤ IDE
* –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
* –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
* Swagger –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ http://localhost:8080/swagger-ui.html
* H2 console –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ http://localhost:8080/h2-console

–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏:
* –ò–∑—É—á–∏—Ç–µ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
* –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç
* –ò–∑—É—á–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
* –ù–∞—á–Ω–∏—Ç–µ —Å –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤

# –ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–µ–∫—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –£–¥–∞—á–∏ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ Chirper! üöÄ